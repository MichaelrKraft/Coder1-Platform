<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Bits IDE Integration - Enhanced</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web@2.0.3"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Glassmorphism and animations */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .glass-hover:hover {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.2);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.7);
        }
        
        /* Terminal styles */
        .terminal {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .terminal-line {
            padding: 2px 0;
        }
        
        .terminal-prompt {
            color: #8b5cf6;
            font-weight: bold;
        }
        
        /* Code editor styles */
        .code-editor {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            tab-size: 2;
        }
        
        /* Preview backgrounds */
        .preview-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .preview-mesh {
            background-color: #4158D0;
            background-image: linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%);
        }
        
        .preview-grid {
            background-color: #1a1a2e;
            background-image: linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Ensure proper contrast for preview area */
        #preview > div {
            position: relative;
            z-index: 1;
        }
        
        /* Better contrast for dark backgrounds */
        .bg-gray-950 button,
        .bg-gray-950 .text-purple-500,
        .bg-gray-950 .text-purple-400 {
            filter: brightness(1.2);
        }
        
        /* Ensure glass effects are visible */
        .bg-gray-950 .bg-white\/10,
        .bg-gray-950 .bg-white\/20 {
            background-color: rgba(139, 92, 246, 0.15) !important;
        }
        
        /* Animation keyframes */
        @keyframes gradient-x {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            25% { transform: translate(10px, 10px); }
            50% { transform: translate(0, 20px); }
            75% { transform: translate(-10px, 10px); }
            100% { transform: translate(0, 0); }
        }
        
        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Apply animations */
        .animate-gradient-x {
            background-size: 200% 100%;
            animation: gradient-x 3s ease infinite;
        }
        
        .animate-shimmer {
            animation: shimmer 2s ease-in-out infinite;
        }
        
        .animate-pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        .animate-grid-move {
            animation: grid-move 20s ease-in-out infinite;
        }
        
        .animate-typewriter {
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid;
            animation: typewriter 2s steps(20) 1s 1 normal both,
                      blink 1s steps(1) infinite;
        }
        
        /* Component-specific styles */
        .glitch {
            position: relative;
        }
        
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .glitch::before {
            animation: glitch-1 0.3s infinite;
            color: #00ffff;
            z-index: -1;
        }
        
        .glitch::after {
            animation: glitch-2 0.3s infinite;
            color: #ff00ff;
            z-index: -2;
        }
        
        @keyframes glitch-1 {
            0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
            20% { clip-path: inset(0 0 50% 0); transform: translate(-2px, 2px); }
            40% { clip-path: inset(50% 0 0 0); transform: translate(2px, -2px); }
            60% { clip-path: inset(0 0 0 0); transform: translate(0); }
        }
        
        @keyframes glitch-2 {
            0%, 100% { clip-path: inset(0 0 0 0); transform: translate(0); }
            20% { clip-path: inset(50% 0 0 0); transform: translate(2px, 2px); }
            40% { clip-path: inset(0 0 50% 0); transform: translate(-2px, -2px); }
            60% { clip-path: inset(0 0 0 0); transform: translate(0); }
        }
    </style>
    <script>
        // Tailwind config for custom animations
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'gradient-x': 'gradient-x 3s ease infinite',
                        'shimmer': 'shimmer 2s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s ease-in-out infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'grid-move': 'grid-move 20s ease-in-out infinite',
                        'typewriter': 'typewriter 2s steps(20) 1s 1 normal both',
                        'blink': 'blink 1s steps(1) infinite'
                    }
                }
            }
        };
    </script>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">
    <div class="flex h-screen">
        <!-- Left Panel: Component Browser -->
        <div class="w-80 glass border-r border-gray-700 overflow-hidden flex flex-col">
            <!-- Header -->
            <div class="p-4 border-b border-gray-700">
                <h2 class="text-xl font-bold text-purple-400">🎨 React Bits</h2>
                <p class="text-sm text-gray-400 mt-1">53 Components • 11 Categories</p>
                
                <!-- Search -->
                <div class="mt-3 relative">
                    <input 
                        type="text" 
                        id="componentSearch"
                        placeholder="Search components..."
                        class="w-full px-3 py-2 bg-gray-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"
                    >
                    <i class="ph-magnifying-glass absolute right-3 top-2.5 text-gray-500"></i>
                </div>
            </div>
            
            <!-- Component Categories -->
            <div class="flex-1 overflow-y-auto p-4">
                <div id="componentList">
                    <!-- Categories will be populated by React -->
                </div>
            </div>
        </div>
        
        <!-- Center Panel: Terminal & Code -->
        <div class="flex-1 flex flex-col">
            <!-- Terminal -->
            <div class="h-1/2 glass border-b border-gray-700 flex flex-col">
                <div class="px-4 py-2 border-b border-gray-700 flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-gray-300">Terminal</h3>
                    <div class="flex space-x-2">
                        <button onclick="clearTerminal()" class="text-xs text-gray-400 hover:text-gray-200">Clear</button>
                        <button onclick="showHelp()" class="text-xs text-gray-400 hover:text-gray-200">Help</button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto p-4 terminal" id="terminal">
                    <div class="terminal-line">Welcome to React Bits IDE Test</div>
                    <div class="terminal-line">Type <span class="text-purple-400">/ui</span> followed by a description to generate components</div>
                    <div class="terminal-line">Example: <span class="text-green-400">/ui create a glowing purple button</span></div>
                    <div class="terminal-line"></div>
                </div>
                <div class="p-4 border-t border-gray-700">
                    <div class="flex items-center">
                        <span class="terminal-prompt mr-2">$</span>
                        <input 
                            type="text" 
                            id="terminalInput"
                            class="flex-1 bg-transparent outline-none terminal"
                            placeholder="Type a command..."
                            autofocus
                        >
                    </div>
                </div>
            </div>
            
            <!-- Code Editor -->
            <div class="h-1/2 glass flex flex-col">
                <div class="px-4 py-2 border-b border-gray-700 flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-gray-300">Code</h3>
                    <div class="flex space-x-2">
                        <select id="codeVariant" class="text-xs bg-gray-800 rounded px-2 py-1">
                            <option value="typescript">TypeScript + Tailwind</option>
                            <option value="javascript">JavaScript + Tailwind</option>
                        </select>
                        <button onclick="copyCode()" class="text-xs bg-purple-600 hover:bg-purple-700 px-3 py-1 rounded">Copy</button>
                    </div>
                </div>
                <div class="flex-1 overflow-auto p-4 code-editor bg-gray-950" id="codeEditor">
                    <pre><code id="codeContent" class="text-gray-300">// Select a component or use /ui command to generate code</code></pre>
                </div>
            </div>
        </div>
        
        <!-- Right Panel: Preview -->
        <div class="w-96 glass border-l border-gray-700 flex flex-col">
            <!-- Preview Controls -->
            <div class="px-4 py-2 border-b border-gray-700">
                <div class="flex items-center justify-between">
                    <h3 class="text-sm font-semibold text-gray-300">Preview</h3>
                    <div class="flex items-center space-x-2">
                        <select id="backgroundSelect" class="text-xs bg-gray-800 rounded px-2 py-1">
                            <option value="dark">Dark</option>
                            <option value="gradient">Gradient</option>
                            <option value="mesh">Mesh</option>
                            <option value="grid">Grid</option>
                            <option value="white">Light</option>
                        </select>
                        <button onclick="resetPreview()" class="text-xs text-gray-400 hover:text-gray-200">Reset</button>
                    </div>
                </div>
            </div>
            
            <!-- Props Editor -->
            <div id="propsEditor" class="hidden px-4 py-3 border-b border-gray-700 bg-gray-800/50">
                <h4 class="text-xs font-semibold text-gray-400 mb-2">Component Props</h4>
                <div id="propsControls" class="space-y-2 text-xs">
                    <!-- Dynamic props controls will be inserted here -->
                </div>
            </div>
            
            <!-- Preview Area -->
            <div class="flex-1 p-8 flex items-center justify-center bg-gray-950" id="previewContainer">
                <div id="preview" class="w-full">
                    <div class="text-center text-gray-500">
                        <i class="ph-eye text-4xl mb-2"></i>
                        <p>Component preview will appear here</p>
                    </div>
                </div>
            </div>
            
            <!-- React Root for Dynamic Components -->
            <div id="react-root" style="display: none;"></div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef, Fragment } = React;
        
        // Component library with enhanced preview components
        const componentLibrary = [
            {
                name: 'Buttons',
                icon: '🔘',
                components: [
                    {
                        name: 'Glowing Button',
                        component: ({ text = 'Click Me', onClick }) => (
                            <button
                                onClick={onClick || (() => alert('Button clicked!'))}
                                className="px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-all duration-300 shadow-lg shadow-purple-500/50 hover:shadow-xl hover:shadow-purple-500/60 animate-pulse-glow"
                            >
                                {text}
                            </button>
                        ),
                        props: {
                            text: { type: 'text', default: 'Click Me' }
                        },
                        code: `export const GlowingButton = ({ children, onClick }) => {
  return (
    <button
      onClick={onClick}
      className="px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-all duration-300 shadow-lg shadow-purple-500/50 hover:shadow-xl hover:shadow-purple-500/60 animate-pulse"
    >
      {children}
    </button>
  );
};`
                    },
                    {
                        name: 'Gradient Button',
                        component: ({ text = 'Gradient Magic', onClick }) => (
                            <button
                                onClick={onClick || (() => alert('Gradient button clicked!'))}
                                className="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-medium rounded-lg transition-all duration-300 transform hover:scale-105"
                            >
                                {text}
                            </button>
                        ),
                        props: {
                            text: { type: 'text', default: 'Gradient Magic' }
                        },
                        code: `export const GradientButton = ({ children, onClick }) => {
  return (
    <button
      onClick={onClick}
      className="px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-medium rounded-lg transition-all duration-300 transform hover:scale-105"
    >
      {children}
    </button>
  );
};`
                    },
                    {
                        name: 'Outline Button',
                        component: ({ text = 'Outline Style', onClick }) => (
                            <button
                                onClick={onClick || (() => alert('Outline button clicked!'))}
                                className="px-6 py-3 border-2 border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white font-medium rounded-lg transition-all duration-300 shadow-lg"
                            >
                                {text}
                            </button>
                        ),
                        props: {
                            text: { type: 'text', default: 'Outline Style' }
                        },
                        code: `export const OutlineButton = ({ children, onClick }) => {
  return (
    <button
      onClick={onClick}
      className="px-6 py-3 border-2 border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white font-medium rounded-lg transition-all duration-300"
    >
      {children}
    </button>
  );
};`
                    },
                    {
                        name: 'Glass Button',
                        component: ({ text = 'Glass Effect', onClick }) => (
                            <button
                                onClick={onClick || (() => alert('Glass button clicked!'))}
                                className="px-6 py-3 bg-white/10 backdrop-blur-md border border-white/30 text-white font-medium rounded-lg transition-all duration-300 hover:bg-white/20 shadow-lg"
                                style={{ backgroundColor: 'rgba(139, 92, 246, 0.1)' }}
                            >
                                {text}
                            </button>
                        ),
                        props: {
                            text: { type: 'text', default: 'Glass Effect' }
                        },
                        needsBackground: true,
                        code: `export const GlassButton = ({ children, onClick }) => {
  return (
    <button
      onClick={onClick}
      className="px-6 py-3 bg-white/10 backdrop-blur-md border border-white/30 text-white font-medium rounded-lg transition-all duration-300 hover:bg-white/20 shadow-lg"
      style={{ backgroundColor: 'rgba(139, 92, 246, 0.1)' }}
    >
      {children}
    </button>
  );
};`
                    },
                    {
                        name: 'Floating Button',
                        component: ({ text = 'Floating', onClick }) => (
                            <button
                                onClick={onClick || (() => alert('Floating button clicked!'))}
                                className="px-6 py-3 bg-purple-600 text-white font-medium rounded-full shadow-lg transition-all duration-300 animate-float"
                            >
                                {text}
                            </button>
                        ),
                        props: {
                            text: { type: 'text', default: 'Floating' }
                        },
                        code: `export const FloatingButton = ({ children, onClick }) => {
  return (
    <button
      onClick={onClick}
      className="px-6 py-3 bg-purple-600 text-white font-medium rounded-full shadow-lg transition-all duration-300 animate-float"
    >
      {children}
    </button>
  );
};`
                    }
                ]
            },
            {
                name: 'Text Effects',
                icon: '📝',
                components: [
                    {
                        name: 'Shiny Text',
                        component: ({ text = 'Shiny Text Effect' }) => (
                            <h2 className="text-4xl font-bold">
                                <span className="bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent animate-gradient-x inline-block">
                                    {text}
                                </span>
                            </h2>
                        ),
                        props: {
                            text: { type: 'text', default: 'Shiny Text Effect' }
                        },
                        code: `export const ShinyText = ({ children, className = '' }) => {
  return (
    <span className={\`inline-block \${className}\`}>
      <span className="bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent animate-gradient-x">
        {children}
      </span>
    </span>
  );
};`
                    },
                    {
                        name: 'Typewriter Text',
                        component: ({ text = 'This is a typewriter effect!', speed = 100 }) => {
                            const [displayText, setDisplayText] = useState('');
                            const [showCursor, setShowCursor] = useState(true);
                            
                            useEffect(() => {
                                let index = 0;
                                setDisplayText('');
                                
                                const timer = setInterval(() => {
                                    if (index < text.length) {
                                        setDisplayText(prev => prev + text[index]);
                                        index++;
                                    } else {
                                        clearInterval(timer);
                                    }
                                }, speed);
                                
                                const cursorTimer = setInterval(() => {
                                    setShowCursor(prev => !prev);
                                }, 500);
                                
                                return () => {
                                    clearInterval(timer);
                                    clearInterval(cursorTimer);
                                };
                            }, [text, speed]);
                            
                            return (
                                <div className="text-2xl font-mono text-green-400">
                                    {displayText}
                                    <span className={showCursor ? 'opacity-100' : 'opacity-0'}>|</span>
                                </div>
                            );
                        },
                        props: {
                            text: { type: 'text', default: 'This is a typewriter effect!' },
                            speed: { type: 'number', default: 100, min: 50, max: 300 }
                        },
                        code: `export const TypewriterText = ({ text, speed = 100 }) => {
  const [displayText, setDisplayText] = useState('');
  
  useEffect(() => {
    let index = 0;
    const timer = setInterval(() => {
      if (index < text.length) {
        setDisplayText(prev => prev + text[index]);
        index++;
      } else {
        clearInterval(timer);
      }
    }, speed);
    
    return () => clearInterval(timer);
  }, [text, speed]);
  
  return <span className="font-mono">{displayText}<span className="animate-pulse">|</span></span>;
};`
                    },
                    {
                        name: 'Gradient Text',
                        component: ({ text = 'Gradient Text' }) => (
                            <h2 className="text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent">
                                {text}
                            </h2>
                        ),
                        props: {
                            text: { type: 'text', default: 'Gradient Text' }
                        },
                        code: `export const GradientText = ({ children, className = '' }) => {
  return (
    <span className={\`bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent \${className}\`}>
      {children}
    </span>
  );
};`
                    },
                    {
                        name: 'Glitch Text',
                        component: ({ text = 'Glitch Effect' }) => (
                            <h2 className="text-3xl font-bold relative glitch" data-text={text}>
                                <span className="animate-pulse text-purple-400">{text}</span>
                            </h2>
                        ),
                        props: {
                            text: { type: 'text', default: 'Glitch Effect' }
                        },
                        code: `export const GlitchText = ({ children }) => {
  return (
    <h2 className="text-3xl font-bold relative glitch" data-text={children}>
      <span className="animate-pulse">{children}</span>
    </h2>
  );
};`
                    },
                    {
                        name: 'Neon Text',
                        component: ({ text = 'Neon Glow', color = 'pink' }) => {
                            const colors = {
                                pink: '#ec4899',
                                purple: '#a855f7',
                                blue: '#3b82f6'
                            };
                            
                            return (
                                <h2 
                                    className="text-4xl font-bold"
                                    style={{
                                        color: colors[color],
                                        textShadow: `0 0 10px ${colors[color]}, 0 0 20px ${colors[color]}, 0 0 30px ${colors[color]}`
                                    }}
                                >
                                    {text}
                                </h2>
                            );
                        },
                        props: {
                            text: { type: 'text', default: 'Neon Glow' },
                            color: { type: 'select', default: 'pink', options: ['pink', 'purple', 'blue'] }
                        },
                        code: `export const NeonText = ({ children, color = 'pink' }) => {
  const colors = {
    pink: '#ec4899',
    purple: '#a855f7',
    blue: '#3b82f6'
  };
  
  return (
    <h2 
      className="text-4xl font-bold"
      style={{
        color: colors[color],
        textShadow: \`0 0 10px \${colors[color]}, 0 0 20px \${colors[color]}, 0 0 30px \${colors[color]}\`
      }}
    >
      {children}
    </h2>
  );
};`
                    }
                ]
            },
            {
                name: 'Cards',
                icon: '🃏',
                components: [
                    {
                        name: 'Glass Card',
                        component: ({ title = 'Glass Card', description = 'Beautiful glassmorphism effect with backdrop blur' }) => (
                            <div className="p-6 rounded-xl bg-white/10 backdrop-blur-md border border-white/20 shadow-xl hover:bg-white/20 transition-all">
                                <h3 className="text-xl font-semibold mb-2">{title}</h3>
                                <p className="text-gray-300">{description}</p>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Glass Card' },
                            description: { type: 'text', default: 'Beautiful glassmorphism effect with backdrop blur' }
                        },
                        needsBackground: true,
                        code: `export const GlassCard = ({ title, description }) => {
  return (
    <div className="p-6 rounded-xl bg-white/10 backdrop-blur-md border border-white/20 shadow-xl hover:bg-white/20 transition-all">
      <h3 className="text-xl font-semibold mb-2">{title}</h3>
      <p className="text-gray-300">{description}</p>
    </div>
  );
};`
                    },
                    {
                        name: 'Gradient Card',
                        component: ({ title = 'Gradient Card', description = 'Subtle gradient background with border' }) => (
                            <div className="p-6 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30 hover:from-purple-500/30 hover:to-pink-500/30 transition-all">
                                <h3 className="text-xl font-semibold mb-2">{title}</h3>
                                <p className="text-gray-300">{description}</p>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Gradient Card' },
                            description: { type: 'text', default: 'Subtle gradient background with border' }
                        },
                        code: `export const GradientCard = ({ title, description }) => {
  return (
    <div className="p-6 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/30 hover:from-purple-500/30 hover:to-pink-500/30 transition-all">
      <h3 className="text-xl font-semibold mb-2">{title}</h3>
      <p className="text-gray-300">{description}</p>
    </div>
  );
};`
                    },
                    {
                        name: 'Hover Card',
                        component: ({ title = 'Hover Card', description = 'Hover for elevation effect' }) => (
                            <div className="p-6 rounded-xl bg-gray-800 border border-gray-700 hover:border-purple-500 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 transform hover:-translate-y-1">
                                <h3 className="text-xl font-semibold mb-2">{title}</h3>
                                <p className="text-gray-400">{description}</p>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Hover Card' },
                            description: { type: 'text', default: 'Hover for elevation effect' }
                        },
                        code: `export const HoverCard = ({ title, description }) => {
  return (
    <div className="p-6 rounded-xl bg-gray-800 border border-gray-700 hover:border-purple-500 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 transform hover:-translate-y-1">
      <h3 className="text-xl font-semibold mb-2">{title}</h3>
      <p className="text-gray-400">{description}</p>
    </div>
  );
};`
                    },
                    {
                        name: 'Neon Card',
                        component: ({ title = 'Neon Card', description = 'Glowing neon border effect' }) => (
                            <div 
                                className="p-6 rounded-xl bg-gray-900 border-2 border-purple-500"
                                style={{
                                    boxShadow: '0 0 20px rgba(168, 85, 247, 0.5), inset 0 0 20px rgba(168, 85, 247, 0.1)'
                                }}
                            >
                                <h3 className="text-xl font-semibold mb-2 text-purple-400">{title}</h3>
                                <p className="text-gray-300">{description}</p>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Neon Card' },
                            description: { type: 'text', default: 'Glowing neon border effect' }
                        },
                        code: `export const NeonCard = ({ title, description }) => {
  return (
    <div 
      className="p-6 rounded-xl bg-gray-900 border-2 border-purple-500"
      style={{
        boxShadow: '0 0 20px rgba(168, 85, 247, 0.5), inset 0 0 20px rgba(168, 85, 247, 0.1)'
      }}
    >
      <h3 className="text-xl font-semibold mb-2 text-purple-400">{title}</h3>
      <p className="text-gray-300">{description}</p>
    </div>
  );
};`
                    },
                    {
                        name: '3D Card',
                        component: ({ title = '3D Card', description = 'Hover for 3D rotation' }) => {
                            const [isHovered, setIsHovered] = useState(false);
                            
                            return (
                                <div 
                                    className="p-6 rounded-xl bg-gray-800 transform transition-all duration-300"
                                    style={{ 
                                        transformStyle: 'preserve-3d',
                                        transform: isHovered ? 'rotateY(10deg) rotateX(-10deg)' : 'rotateY(0) rotateX(0)'
                                    }}
                                    onMouseEnter={() => setIsHovered(true)}
                                    onMouseLeave={() => setIsHovered(false)}
                                >
                                    <h3 className="text-xl font-semibold mb-2">{title}</h3>
                                    <p className="text-gray-400">{description}</p>
                                </div>
                            );
                        },
                        props: {
                            title: { type: 'text', default: '3D Card' },
                            description: { type: 'text', default: 'Hover for 3D rotation' }
                        },
                        code: `export const Card3D = ({ title, description }) => {
  return (
    <div 
      className="p-6 rounded-xl bg-gray-800 transform transition-all duration-300 hover:rotate-3"
      style={{ transformStyle: 'preserve-3d', perspective: '1000px' }}
    >
      <h3 className="text-xl font-semibold mb-2">{title}</h3>
      <p className="text-gray-400">{description}</p>
    </div>
  );
};`
                    }
                ]
            },
            {
                name: 'Loaders',
                icon: '⏳',
                components: [
                    {
                        name: 'Pulse Loader',
                        component: () => (
                            <div className="flex space-x-2">
                                <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse"></div>
                                <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse" style={{ animationDelay: '75ms' }}></div>
                                <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse" style={{ animationDelay: '150ms' }}></div>
                            </div>
                        ),
                        code: `export const PulseLoader = () => {
  return (
    <div className="flex space-x-2">
      <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse"></div>
      <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse delay-75"></div>
      <div className="w-3 h-3 bg-purple-500 rounded-full animate-pulse delay-150"></div>
    </div>
  );
};`
                    },
                    {
                        name: 'Spin Loader',
                        component: ({ size = 'md' }) => {
                            const sizes = {
                                sm: 'w-8 h-8',
                                md: 'w-12 h-12',
                                lg: 'w-16 h-16'
                            };
                            
                            return (
                                <div className={`${sizes[size]} border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin`}></div>
                            );
                        },
                        props: {
                            size: { type: 'select', default: 'md', options: ['sm', 'md', 'lg'] }
                        },
                        code: `export const SpinLoader = ({ size = 'md' }) => {
  const sizes = {
    sm: 'w-8 h-8',
    md: 'w-12 h-12',
    lg: 'w-16 h-16'
  };
  
  return (
    <div className={\`\${sizes[size]} border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin\`}></div>
  );
};`
                    },
                    {
                        name: 'Dots Loader',
                        component: () => (
                            <div className="flex space-x-1">
                                {[0, 150, 300].map((delay, i) => (
                                    <div
                                        key={i}
                                        className="w-2 h-2 bg-purple-500 rounded-full animate-bounce"
                                        style={{ animationDelay: `${delay}ms` }}
                                    />
                                ))}
                            </div>
                        ),
                        code: `export const DotsLoader = () => {
  return (
    <div className="flex space-x-1">
      {[0, 150, 300].map((delay, i) => (
        <div
          key={i}
          className="w-2 h-2 bg-purple-500 rounded-full animate-bounce"
          style={{ animationDelay: \`\${delay}ms\` }}
        />
      ))}
    </div>
  );
};`
                    },
                    {
                        name: 'Ring Loader',
                        component: () => (
                            <div className="relative w-12 h-12">
                                <div className="absolute inset-0 border-4 border-purple-200 rounded-full"></div>
                                <div className="absolute inset-0 border-4 border-purple-600 rounded-full animate-spin border-t-transparent border-r-transparent border-b-transparent"></div>
                            </div>
                        ),
                        code: `export const RingLoader = () => {
  return (
    <div className="relative w-12 h-12">
      <div className="absolute inset-0 border-4 border-purple-200 rounded-full"></div>
      <div className="absolute inset-0 border-4 border-purple-600 rounded-full animate-spin border-t-transparent border-r-transparent border-b-transparent"></div>
    </div>
  );
};`
                    },
                    {
                        name: 'Bar Loader',
                        component: () => (
                            <div className="flex space-x-1">
                                {[0, 100, 200, 300, 400].map((delay, i) => (
                                    <div
                                        key={i}
                                        className="w-1 h-8 bg-purple-500 animate-pulse"
                                        style={{ animationDelay: `${delay}ms` }}
                                    />
                                ))}
                            </div>
                        ),
                        code: `export const BarLoader = () => {
  return (
    <div className="flex space-x-1">
      {[0, 100, 200, 300, 400].map((delay, i) => (
        <div
          key={i}
          className="w-1 h-8 bg-purple-500 animate-pulse"
          style={{ animationDelay: \`\${delay}ms\` }}
        />
      ))}
    </div>
  );
};`
                    }
                ]
            },
            {
                name: 'Forms',
                icon: '📋',
                components: [
                    {
                        name: 'Glass Input',
                        component: ({ placeholder = 'Enter text...', value: propValue, onChange }) => {
                            const [value, setValue] = useState(propValue || '');
                            
                            return (
                                <input
                                    type="text"
                                    placeholder={placeholder}
                                    value={value}
                                    onChange={(e) => {
                                        setValue(e.target.value);
                                        onChange?.(e);
                                    }}
                                    className="px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white placeholder-gray-400"
                                />
                            );
                        },
                        props: {
                            placeholder: { type: 'text', default: 'Enter text...' }
                        },
                        needsBackground: true,
                        code: `export const GlassInput = ({ placeholder, value, onChange }) => {
  return (
    <input
      type="text"
      placeholder={placeholder}
      value={value}
      onChange={onChange}
      className="px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white placeholder-gray-400"
    />
  );
};`
                    },
                    {
                        name: 'Floating Label Input',
                        component: ({ label = 'Email' }) => {
                            const [value, setValue] = useState('');
                            const [focused, setFocused] = useState(false);
                            
                            return (
                                <div className="relative">
                                    <input
                                        type="text"
                                        placeholder=" "
                                        value={value}
                                        onChange={(e) => setValue(e.target.value)}
                                        onFocus={() => setFocused(true)}
                                        onBlur={() => setFocused(false)}
                                        className="peer px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white"
                                    />
                                    <label className={`absolute left-4 transition-all ${
                                        focused || value ? '-top-6 text-purple-500 text-sm' : 'top-2 text-gray-400'
                                    }`}>
                                        {label}
                                    </label>
                                </div>
                            );
                        },
                        props: {
                            label: { type: 'text', default: 'Email' }
                        },
                        code: `export const FloatingLabelInput = ({ label, value, onChange }) => {
  return (
    <div className="relative">
      <input
        type="text"
        placeholder=" "
        value={value}
        onChange={onChange}
        className="peer px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white"
      />
      <label className="absolute left-4 top-2 text-gray-400 transition-all peer-placeholder-shown:top-2 peer-focus:-top-6 peer-focus:text-purple-500 peer-focus:text-sm">
        {label}
      </label>
    </div>
  );
};`
                    },
                    {
                        name: 'Toggle Switch',
                        component: ({ checked: initialChecked = false, onChange }) => {
                            const [checked, setChecked] = useState(initialChecked);
                            
                            return (
                                <label className="relative inline-flex items-center cursor-pointer">
                                    <input 
                                        type="checkbox" 
                                        className="sr-only peer"
                                        checked={checked}
                                        onChange={(e) => {
                                            setChecked(e.target.checked);
                                            onChange?.(e);
                                        }}
                                    />
                                    <div className="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                </label>
                            );
                        },
                        props: {
                            checked: { type: 'boolean', default: false }
                        },
                        code: `export const ToggleSwitch = ({ checked, onChange }) => {
  return (
    <label className="relative inline-flex items-center cursor-pointer">
      <input 
        type="checkbox" 
        className="sr-only peer"
        checked={checked}
        onChange={onChange}
      />
      <div className="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
    </label>
  );
};`
                    },
                    {
                        name: 'Select Dropdown',
                        component: ({ options = [
                            { value: '1', label: 'Option 1' },
                            { value: '2', label: 'Option 2' },
                            { value: '3', label: 'Option 3' }
                        ] }) => {
                            const [value, setValue] = useState(options[0].value);
                            
                            return (
                                <select
                                    value={value}
                                    onChange={(e) => setValue(e.target.value)}
                                    className="px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white"
                                >
                                    {options.map(opt => (
                                        <option key={opt.value} value={opt.value}>{opt.label}</option>
                                    ))}
                                </select>
                            );
                        },
                        code: `export const SelectDropdown = ({ options, value, onChange }) => {
  return (
    <select
      value={value}
      onChange={onChange}
      className="px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white"
    >
      {options.map(opt => (
        <option key={opt.value} value={opt.value}>{opt.label}</option>
      ))}
    </select>
  );
};`
                    },
                    {
                        name: 'Checkbox',
                        component: ({ label = 'I agree to terms', checked: initialChecked = false }) => {
                            const [checked, setChecked] = useState(initialChecked);
                            
                            return (
                                <label className="flex items-center space-x-2 cursor-pointer">
                                    <input
                                        type="checkbox"
                                        checked={checked}
                                        onChange={(e) => setChecked(e.target.checked)}
                                        className="w-5 h-5 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2"
                                    />
                                    <span className="text-gray-300">{label}</span>
                                </label>
                            );
                        },
                        props: {
                            label: { type: 'text', default: 'I agree to terms' },
                            checked: { type: 'boolean', default: false }
                        },
                        code: `export const Checkbox = ({ label, checked, onChange }) => {
  return (
    <label className="flex items-center space-x-2 cursor-pointer">
      <input
        type="checkbox"
        checked={checked}
        onChange={onChange}
        className="w-5 h-5 text-purple-600 bg-gray-800 border-gray-600 rounded focus:ring-purple-500 focus:ring-2"
      />
      <span className="text-gray-300">{label}</span>
    </label>
  );
};`
                    }
                ]
            },
            {
                name: 'Interactive',
                icon: '🎯',
                components: [
                    {
                        name: 'Tooltip',
                        component: ({ text = 'Tooltip text', buttonText = 'Hover me' }) => (
                            <div className="relative inline-block group">
                                <button className="px-4 py-2 bg-purple-600 rounded">{buttonText}</button>
                                <div className="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap">
                                    {text}
                                </div>
                            </div>
                        ),
                        props: {
                            text: { type: 'text', default: 'Tooltip text' },
                            buttonText: { type: 'text', default: 'Hover me' }
                        },
                        code: `export const Tooltip = ({ children, text }) => {
  return (
    <div className="relative inline-block group">
      {children}
      <div className="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap">
        {text}
      </div>
    </div>
  );
};`
                    },
                    {
                        name: 'Modal',
                        component: ({ title = 'Modal Title', content = 'Modal content goes here' }) => {
                            const [isOpen, setIsOpen] = useState(false);
                            
                            return (
                                <>
                                    <button 
                                        onClick={() => setIsOpen(true)}
                                        className="px-4 py-2 bg-purple-600 rounded"
                                    >
                                        Open Modal
                                    </button>
                                    {isOpen && (
                                        <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
                                            <div className="bg-gray-800 rounded-lg p-6 max-w-md w-full">
                                                <h3 className="text-xl font-bold mb-4">{title}</h3>
                                                <p className="text-gray-400 mb-4">{content}</p>
                                                <button 
                                                    onClick={() => setIsOpen(false)}
                                                    className="px-4 py-2 bg-purple-600 rounded"
                                                >
                                                    Close
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </>
                            );
                        },
                        props: {
                            title: { type: 'text', default: 'Modal Title' },
                            content: { type: 'text', default: 'Modal content goes here' }
                        },
                        code: `export const Modal = ({ isOpen, onClose, title, children }) => {
  if (!isOpen) return null;
  
  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
      <div className="bg-gray-800 rounded-lg p-6 max-w-md w-full">
        <h3 className="text-xl font-bold mb-4">{title}</h3>
        {children}
        <button 
          onClick={onClose}
          className="px-4 py-2 bg-purple-600 rounded mt-4"
        >
          Close
        </button>
      </div>
    </div>
  );
};`
                    },
                    {
                        name: 'Accordion',
                        component: ({ items = [
                            { title: 'Accordion Item 1', content: 'Content for item 1' },
                            { title: 'Accordion Item 2', content: 'Content for item 2' },
                            { title: 'Accordion Item 3', content: 'Content for item 3' }
                        ] }) => {
                            const [openIndex, setOpenIndex] = useState(0);
                            
                            return (
                                <div className="space-y-2 w-full">
                                    {items.map((item, index) => (
                                        <div key={index} className="bg-gray-800 rounded-lg">
                                            <button 
                                                onClick={() => setOpenIndex(openIndex === index ? -1 : index)}
                                                className="w-full px-4 py-3 text-left flex items-center justify-between"
                                            >
                                                <span>{item.title}</span>
                                                <span>{openIndex === index ? '▼' : '►'}</span>
                                            </button>
                                            {openIndex === index && (
                                                <div className="px-4 pb-3 text-gray-400">{item.content}</div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            );
                        },
                        code: `export const Accordion = ({ items }) => {
  const [openIndex, setOpenIndex] = useState(0);
  
  return (
    <div className="space-y-2">
      {items.map((item, index) => (
        <div key={index} className="bg-gray-800 rounded-lg">
          <button 
            onClick={() => setOpenIndex(openIndex === index ? -1 : index)}
            className="w-full px-4 py-3 text-left flex items-center justify-between"
          >
            <span>{item.title}</span>
            <span>{openIndex === index ? '▼' : '►'}</span>
          </button>
          {openIndex === index && (
            <div className="px-4 pb-3 text-gray-400">{item.content}</div>
          )}
        </div>
      ))}
    </div>
  );
};`
                    },
                    {
                        name: 'Dropdown Menu',
                        component: ({ label = 'Options', items = [
                            { label: 'Option 1', href: '#' },
                            { label: 'Option 2', href: '#' },
                            { label: 'Option 3', href: '#' }
                        ] }) => {
                            const [isOpen, setIsOpen] = useState(false);
                            
                            return (
                                <div className="relative">
                                    <button 
                                        onClick={() => setIsOpen(!isOpen)}
                                        className="px-4 py-2 bg-gray-800 rounded flex items-center space-x-2"
                                    >
                                        <span>{label}</span>
                                        <span>{isOpen ? '▼' : '►'}</span>
                                    </button>
                                    {isOpen && (
                                        <div className="absolute top-full mt-2 w-48 bg-gray-800 rounded-lg shadow-xl z-10">
                                            {items.map((item, index) => (
                                                <a 
                                                    key={index}
                                                    href={item.href}
                                                    className="block px-4 py-2 hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg"
                                                    onClick={() => setIsOpen(false)}
                                                >
                                                    {item.label}
                                                </a>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            );
                        },
                        props: {
                            label: { type: 'text', default: 'Options' }
                        },
                        code: `export const DropdownMenu = ({ label, items }) => {
  const [isOpen, setIsOpen] = useState(false);
  
  return (
    <div className="relative">
      <button 
        onClick={() => setIsOpen(!isOpen)}
        className="px-4 py-2 bg-gray-800 rounded flex items-center space-x-2"
      >
        <span>{label}</span>
        <span>{isOpen ? '▼' : '►'}</span>
      </button>
      {isOpen && (
        <div className="absolute top-full mt-2 w-48 bg-gray-800 rounded-lg shadow-xl">
          {items.map((item, index) => (
            <a 
              key={index}
              href={item.href}
              className="block px-4 py-2 hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg"
            >
              {item.label}
            </a>
          ))}
        </div>
      )}
    </div>
  );
};`
                    },
                    {
                        name: 'Copy Button',
                        component: ({ text = 'This text will be copied!' }) => {
                            const [copied, setCopied] = useState(false);
                            
                            const handleCopy = () => {
                                navigator.clipboard.writeText(text);
                                setCopied(true);
                                setTimeout(() => setCopied(false), 2000);
                            };
                            
                            return (
                                <div className="space-y-2">
                                    <p className="text-sm text-gray-400">{text}</p>
                                    <button 
                                        onClick={handleCopy}
                                        className="px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded flex items-center space-x-2"
                                    >
                                        <span>{copied ? 'Copied!' : 'Copy to clipboard'}</span>
                                        <svg width="16" height="16" fill="currentColor">
                                            <path d="M13 0H6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2h2a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                                        </svg>
                                    </button>
                                </div>
                            );
                        },
                        props: {
                            text: { type: 'text', default: 'This text will be copied!' }
                        },
                        code: `export const CopyButton = ({ text, onCopy }) => {
  const [copied, setCopied] = useState(false);
  
  const handleCopy = () => {
    navigator.clipboard.writeText(text);
    setCopied(true);
    onCopy?.();
    setTimeout(() => setCopied(false), 2000);
  };
  
  return (
    <button 
      onClick={handleCopy}
      className="px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded flex items-center space-x-2"
    >
      <span>{copied ? 'Copied!' : 'Copy to clipboard'}</span>
      <svg width="16" height="16" fill="currentColor">
        <path d="M13 0H6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2h2a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
      </svg>
    </button>
  );
};`
                    }
                ]
            },
            {
                name: 'Data',
                icon: '📊',
                components: [
                    {
                        name: 'Progress Bar',
                        component: ({ value = 70, max = 100 }) => {
                            const percentage = (value / max) * 100;
                            
                            return (
                                <div className="w-full space-y-2">
                                    <div className="flex justify-between text-sm text-gray-400">
                                        <span>Progress</span>
                                        <span>{value}%</span>
                                    </div>
                                    <div className="w-full bg-gray-700 rounded-full h-2.5">
                                        <div 
                                            className="bg-purple-600 h-2.5 rounded-full transition-all duration-300"
                                            style={{ width: `${percentage}%` }}
                                        />
                                    </div>
                                </div>
                            );
                        },
                        props: {
                            value: { type: 'number', default: 70, min: 0, max: 100 }
                        },
                        code: `export const ProgressBar = ({ value, max = 100 }) => {
  const percentage = (value / max) * 100;
  
  return (
    <div className="w-full bg-gray-700 rounded-full h-2.5">
      <div 
        className="bg-purple-600 h-2.5 rounded-full transition-all duration-300"
        style={{ width: \`\${percentage}%\` }}
      />
    </div>
  );
};`
                    },
                    {
                        name: 'Stats Card',
                        component: ({ label = 'Total Revenue', value = '$12,345', change = '12% from last month', positive = true }) => (
                            <div className="bg-gray-800 rounded-lg p-6">
                                <div className="text-gray-400 text-sm">{label}</div>
                                <div className="text-3xl font-bold mt-1">{value}</div>
                                <div className={`text-sm mt-2 ${positive ? 'text-green-400' : 'text-red-400'}`}>
                                    {positive ? '↑' : '↓'} {change}
                                </div>
                            </div>
                        ),
                        props: {
                            label: { type: 'text', default: 'Total Revenue' },
                            value: { type: 'text', default: '$12,345' },
                            change: { type: 'text', default: '12% from last month' },
                            positive: { type: 'boolean', default: true }
                        },
                        code: `export const StatsCard = ({ label, value, change, positive = true }) => {
  return (
    <div className="bg-gray-800 rounded-lg p-6">
      <div className="text-gray-400 text-sm">{label}</div>
      <div className="text-3xl font-bold mt-1">{value}</div>
      <div className={\`text-sm mt-2 \${positive ? 'text-green-400' : 'text-red-400'}\`}>
        {positive ? '↑' : '↓'} {change}
      </div>
    </div>
  );
};`
                    },
                    {
                        name: 'Badge',
                        component: ({ text = 'New', variant = 'default' }) => {
                            const variants = {
                                default: 'bg-purple-900 text-purple-200',
                                success: 'bg-green-900 text-green-200',
                                warning: 'bg-yellow-900 text-yellow-200',
                                error: 'bg-red-900 text-red-200'
                            };
                            
                            return (
                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variants[variant]}`}>
                                    {text}
                                </span>
                            );
                        },
                        props: {
                            text: { type: 'text', default: 'New' },
                            variant: { type: 'select', default: 'default', options: ['default', 'success', 'warning', 'error'] }
                        },
                        code: `export const Badge = ({ children, variant = 'default' }) => {
  const variants = {
    default: 'bg-purple-900 text-purple-200',
    success: 'bg-green-900 text-green-200',
    warning: 'bg-yellow-900 text-yellow-200',
    error: 'bg-red-900 text-red-200'
  };
  
  return (
    <span className={\`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \${variants[variant]}\`}>
      {children}
    </span>
  );
};`
                    },
                    {
                        name: 'Table',
                        component: () => {
                            const columns = [
                                { key: 'name', label: 'Name' },
                                { key: 'status', label: 'Status' }
                            ];
                            const data = [
                                { name: 'John Doe', status: 'Active' },
                                { name: 'Jane Smith', status: 'Pending' },
                                { name: 'Bob Johnson', status: 'Active' }
                            ];
                            
                            return (
                                <div className="overflow-hidden rounded-lg border border-gray-700">
                                    <table className="min-w-full divide-y divide-gray-700">
                                        <thead className="bg-gray-800">
                                            <tr>
                                                {columns.map(col => (
                                                    <th key={col.key} className="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase">
                                                        {col.label}
                                                    </th>
                                                ))}
                                            </tr>
                                        </thead>
                                        <tbody className="bg-gray-900 divide-y divide-gray-800">
                                            {data.map((row, i) => (
                                                <tr key={i}>
                                                    {columns.map(col => (
                                                        <td key={col.key} className="px-6 py-4 text-sm">
                                                            {col.key === 'status' ? (
                                                                <span className={row[col.key] === 'Active' ? 'text-green-400' : 'text-yellow-400'}>
                                                                    {row[col.key]}
                                                                </span>
                                                            ) : (
                                                                row[col.key]
                                                            )}
                                                        </td>
                                                    ))}
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            );
                        },
                        code: `export const Table = ({ columns, data }) => {
  return (
    <div className="overflow-hidden rounded-lg border border-gray-700">
      <table className="min-w-full divide-y divide-gray-700">
        <thead className="bg-gray-800">
          <tr>
            {columns.map(col => (
              <th key={col.key} className="px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase">
                {col.label}
              </th>
            ))}
          </tr>
        </thead>
        <tbody className="bg-gray-900 divide-y divide-gray-800">
          {data.map((row, i) => (
            <tr key={i}>
              {columns.map(col => (
                <td key={col.key} className="px-6 py-4 text-sm">
                  {row[col.key]}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};`
                    },
                    {
                        name: 'Chart Placeholder',
                        component: ({ title = 'Revenue Chart' }) => (
                            <div className="bg-gray-800 rounded-lg p-6 h-64 flex items-center justify-center">
                                <div className="text-center">
                                    <div className="text-4xl mb-2">📊</div>
                                    <p className="text-gray-400">{title}</p>
                                </div>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Revenue Chart' }
                        },
                        code: `export const ChartPlaceholder = ({ title, height = '16rem' }) => {
  return (
    <div 
      className="bg-gray-800 rounded-lg p-6 flex items-center justify-center"
      style={{ height }}
    >
      <div className="text-center">
        <div className="text-4xl mb-2">📊</div>
        <p className="text-gray-400">{title || 'Chart goes here'}</p>
      </div>
    </div>
  );
};`
                    }
                ]
            },
            {
                name: 'Media',
                icon: '🖼️',
                components: [
                    {
                        name: 'Image Card',
                        component: ({ title = 'Image Title', description = 'Image description' }) => (
                            <div className="bg-gray-800 rounded-lg overflow-hidden">
                                <div className="h-48 bg-gradient-to-br from-purple-500 to-pink-500"></div>
                                <div className="p-4">
                                    <h3 className="font-semibold">{title}</h3>
                                    <p className="text-gray-400 text-sm mt-1">{description}</p>
                                </div>
                            </div>
                        ),
                        props: {
                            title: { type: 'text', default: 'Image Title' },
                            description: { type: 'text', default: 'Image description' }
                        },
                        code: `export const ImageCard = ({ imageUrl, title, description }) => {
  return (
    <div className="bg-gray-800 rounded-lg overflow-hidden">
      <div className="h-48 bg-gradient-to-br from-purple-500 to-pink-500">
        {imageUrl && <img src={imageUrl} alt={title} className="w-full h-full object-cover" />}
      </div>
      <div className="p-4">
        <h3 className="font-semibold">{title}</h3>
        <p className="text-gray-400 text-sm mt-1">{description}</p>
      </div>
    </div>
  );
};`
                    },
                    {
                        name: 'Avatar',
                        component: ({ name = 'User Name', email = 'user@example.com', size = 'md' }) => {
                            const sizes = {
                                sm: 'w-8 h-8',
                                md: 'w-12 h-12',
                                lg: 'w-16 h-16'
                            };
                            
                            return (
                                <div className="flex items-center space-x-3">
                                    <div className={`${sizes[size]} rounded-full bg-gradient-to-br from-purple-500 to-pink-500`}></div>
                                    <div>
                                        <div className="font-semibold">{name}</div>
                                        <div className="text-sm text-gray-400">{email}</div>
                                    </div>
                                </div>
                            );
                        },
                        props: {
                            name: { type: 'text', default: 'User Name' },
                            email: { type: 'text', default: 'user@example.com' },
                            size: { type: 'select', default: 'md', options: ['sm', 'md', 'lg'] }
                        },
                        code: `export const Avatar = ({ src, name, email, size = 'md' }) => {
  const sizes = {
    sm: 'w-8 h-8',
    md: 'w-12 h-12',
    lg: 'w-16 h-16'
  };
  
  return (
    <div className="flex items-center space-x-3">
      <div className={\`\${sizes[size]} rounded-full bg-gradient-to-br from-purple-500 to-pink-500 overflow-hidden\`}>
        {src && <img src={src} alt={name} className="w-full h-full object-cover" />}
      </div>
      {name && (
        <div>
          <div className="font-semibold">{name}</div>
          {email && <div className="text-sm text-gray-400">{email}</div>}
        </div>
      )}
    </div>
  );
};`
                    },
                    {
                        name: 'Video Player',
                        component: () => {
                            const [playing, setPlaying] = useState(false);
                            
                            return (
                                <div className="bg-gray-900 rounded-lg overflow-hidden">
                                    <div className="aspect-video bg-gray-800 flex items-center justify-center relative">
                                        {!playing ? (
                                            <>
                                                <div className="absolute inset-0 bg-gradient-to-br from-purple-900/50 to-pink-900/50"></div>
                                                <button 
                                                    onClick={() => setPlaying(true)}
                                                    className="w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center hover:bg-purple-700 relative z-10"
                                                >
                                                    <svg className="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 20 20">
                                                        <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"/>
                                                    </svg>
                                                </button>
                                            </>
                                        ) : (
                                            <div className="text-center">
                                                <p className="text-gray-400">Video would play here</p>
                                                <button 
                                                    onClick={() => setPlaying(false)}
                                                    className="mt-2 text-sm text-purple-400 hover:text-purple-300"
                                                >
                                                    Stop
                                                </button>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            );
                        },
                        code: `export const VideoPlayer = ({ videoUrl, thumbnail }) => {
  const [playing, setPlaying] = useState(false);
  
  return (
    <div className="bg-gray-900 rounded-lg overflow-hidden">
      <div className="aspect-video bg-gray-800 flex items-center justify-center relative">
        {!playing ? (
          <>
            {thumbnail && <img src={thumbnail} alt="Video thumbnail" className="absolute inset-0 w-full h-full object-cover" />}
            <button 
              onClick={() => setPlaying(true)}
              className="w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center hover:bg-purple-700 relative z-10"
            >
              <svg className="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 20 20">
                <path d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"/>
              </svg>
            </button>
          </>
        ) : (
          <video src={videoUrl} controls autoPlay className="w-full h-full" />
        )}
      </div>
    </div>
  );
};`
                    },
                    {
                        name: 'Gallery',
                        component: () => {
                            const images = Array.from({ length: 6 }, (_, i) => ({
                                id: i,
                                gradient: [
                                    'from-purple-500 to-pink-500',
                                    'from-blue-500 to-green-500',
                                    'from-yellow-500 to-red-500',
                                    'from-purple-500 to-blue-500',
                                    'from-green-500 to-yellow-500',
                                    'from-red-500 to-purple-500'
                                ][i]
                            }));
                            
                            return (
                                <div className="grid grid-cols-3 gap-2">
                                    {images.map((image) => (
                                        <div key={image.id} className="aspect-square rounded overflow-hidden group">
                                            <div className={`w-full h-full bg-gradient-to-br ${image.gradient} group-hover:scale-110 transition-transform duration-300`}></div>
                                        </div>
                                    ))}
                                </div>
                            );
                        },
                        code: `export const Gallery = ({ images, columns = 3 }) => {
  return (
    <div className={\`grid grid-cols-\${columns} gap-2\`}>
      {images.map((image, index) => (
        <div key={index} className="aspect-square rounded overflow-hidden">
          <img 
            src={image.url} 
            alt={image.alt || \`Image \${index + 1}\`}
            className="w-full h-full object-cover hover:scale-110 transition-transform duration-300"
          />
        </div>
      ))}
    </div>
  );
};`
                    },
                    {
                        name: 'Icon Box',
                        component: ({ icon = '🚀', title = 'Feature Title', description = 'Feature description goes here' }) => (
                            <div className="p-6 bg-gray-800 rounded-lg text-center hover:bg-gray-700 transition-colors">
                                <div className="w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span className="text-2xl">{icon}</span>
                                </div>
                                <h3 className="font-semibold">{title}</h3>
                                <p className="text-gray-400 text-sm mt-2">{description}</p>
                            </div>
                        ),
                        props: {
                            icon: { type: 'text', default: '🚀' },
                            title: { type: 'text', default: 'Feature Title' },
                            description: { type: 'text', default: 'Feature description goes here' }
                        },
                        code: `export const IconBox = ({ icon, title, description }) => {
  return (
    <div className="p-6 bg-gray-800 rounded-lg text-center hover:bg-gray-750 transition-colors">
      <div className="w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
        <span className="text-2xl">{icon}</span>
      </div>
      <h3 className="font-semibold">{title}</h3>
      <p className="text-gray-400 text-sm mt-2">{description}</p>
    </div>
  );
};`
                    }
                ]
            },
            {
                name: 'Navigation',
                icon: '🧭',
                components: [
                    {
                        name: 'Tab Navigation',
                        component: () => {
                            const [activeTab, setActiveTab] = useState('tab1');
                            const tabs = [
                                { id: 'tab1', label: 'Tab 1' },
                                { id: 'tab2', label: 'Tab 2' },
                                { id: 'tab3', label: 'Tab 3' }
                            ];
                            
                            return (
                                <div className="flex space-x-1 bg-gray-800 p-1 rounded-lg">
                                    {tabs.map(tab => (
                                        <button
                                            key={tab.id}
                                            onClick={() => setActiveTab(tab.id)}
                                            className={`px-4 py-2 rounded-md transition-all ${
                                                activeTab === tab.id 
                                                    ? 'bg-purple-600 text-white' 
                                                    : 'text-gray-400 hover:text-white'
                                            }`}
                                        >
                                            {tab.label}
                                        </button>
                                    ))}
                                </div>
                            );
                        },
                        code: `export const TabNavigation = ({ tabs, activeTab, onTabChange }) => {
  return (
    <div className="flex space-x-1 bg-gray-800 p-1 rounded-lg">
      {tabs.map(tab => (
        <button
          key={tab.id}
          onClick={() => onTabChange(tab.id)}
          className={\`px-4 py-2 rounded-md transition-all \${
            activeTab === tab.id 
              ? 'bg-purple-600 text-white' 
              : 'text-gray-400 hover:text-white'
          }\`}
        >
          {tab.label}
        </button>
      ))}
    </div>
  );
};`
                    },
                    {
                        name: 'Breadcrumb',
                        component: () => {
                            const items = [
                                { label: 'Home', href: '#', active: false },
                                { label: 'Products', href: '#', active: false },
                                { label: 'Details', active: true }
                            ];
                            
                            return (
                                <nav className="flex items-center space-x-2 text-sm">
                                    {items.map((item, index) => (
                                        <React.Fragment key={index}>
                                            {index > 0 && <span className="text-gray-600">/</span>}
                                            {item.active ? (
                                                <span className="text-purple-400">{item.label}</span>
                                            ) : (
                                                <a href={item.href} className="text-gray-400 hover:text-white">
                                                    {item.label}
                                                </a>
                                            )}
                                        </React.Fragment>
                                    ))}
                                </nav>
                            );
                        },
                        code: `export const Breadcrumb = ({ items }) => {
  return (
    <nav className="flex items-center space-x-2 text-sm">
      {items.map((item, index) => (
        <React.Fragment key={index}>
          {index > 0 && <span className="text-gray-600">/</span>}
          {item.active ? (
            <span className="text-purple-400">{item.label}</span>
          ) : (
            <a href={item.href} className="text-gray-400 hover:text-white">
              {item.label}
            </a>
          )}
        </React.Fragment>
      ))}
    </nav>
  );
};`
                    },
                    {
                        name: 'Pagination',
                        component: () => {
                            const [currentPage, setCurrentPage] = useState(1);
                            const totalPages = 5;
                            
                            return (
                                <div className="flex items-center space-x-2">
                                    <button 
                                        onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}
                                        disabled={currentPage === 1}
                                        className="px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 disabled:opacity-50"
                                    >
                                        ←
                                    </button>
                                    {Array.from({ length: totalPages }, (_, i) => (
                                        <button
                                            key={i + 1}
                                            onClick={() => setCurrentPage(i + 1)}
                                            className={`px-3 py-1 rounded ${
                                                currentPage === i + 1
                                                    ? 'bg-purple-600 text-white'
                                                    : 'bg-gray-800 text-gray-400 hover:bg-gray-700'
                                            }`}
                                        >
                                            {i + 1}
                                        </button>
                                    ))}
                                    <button 
                                        onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}
                                        disabled={currentPage === totalPages}
                                        className="px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 disabled:opacity-50"
                                    >
                                        →
                                    </button>
                                </div>
                            );
                        },
                        code: `export const Pagination = ({ currentPage, totalPages, onPageChange }) => {
  return (
    <div className="flex items-center space-x-2">
      <button 
        onClick={() => onPageChange(currentPage - 1)}
        disabled={currentPage === 1}
        className="px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 disabled:opacity-50"
      >
        ←
      </button>
      {Array.from({ length: totalPages }, (_, i) => (
        <button
          key={i + 1}
          onClick={() => onPageChange(i + 1)}
          className={\`px-3 py-1 rounded \${
            currentPage === i + 1
              ? 'bg-purple-600 text-white'
              : 'bg-gray-800 text-gray-400 hover:bg-gray-700'
          }\`}
        >
          {i + 1}
        </button>
      ))}
      <button 
        onClick={() => onPageChange(currentPage + 1)}
        disabled={currentPage === totalPages}
        className="px-3 py-1 bg-gray-800 text-gray-400 rounded hover:bg-gray-700 disabled:opacity-50"
      >
        →
      </button>
    </div>
  );
};`
                    },
                    {
                        name: 'Side Navigation',
                        component: () => {
                            const [activeItem, setActiveItem] = useState('dashboard');
                            const items = [
                                { id: 'dashboard', label: 'Dashboard', href: '#' },
                                { id: 'projects', label: 'Projects', href: '#' },
                                { id: 'settings', label: 'Settings', href: '#' }
                            ];
                            
                            return (
                                <div className="w-64 bg-gray-800 p-4 rounded-lg">
                                    {items.map(item => (
                                        <a
                                            key={item.id}
                                            href={item.href}
                                            onClick={(e) => {
                                                e.preventDefault();
                                                setActiveItem(item.id);
                                            }}
                                            className={`block px-4 py-2 rounded mt-1 transition-all ${
                                                activeItem === item.id
                                                    ? 'text-purple-400 bg-purple-900/30'
                                                    : 'text-gray-400 hover:text-white hover:bg-gray-700'
                                            }`}
                                        >
                                            {item.label}
                                        </a>
                                    ))}
                                </div>
                            );
                        },
                        code: `export const SideNavigation = ({ items, activeItem }) => {
  return (
    <div className="w-64 bg-gray-800 p-4 rounded-lg">
      {items.map(item => (
        <a
          key={item.id}
          href={item.href}
          className={\`block px-4 py-2 rounded mt-1 transition-all \${
            activeItem === item.id
              ? 'text-purple-400 bg-purple-900/30'
              : 'text-gray-400 hover:text-white hover:bg-gray-700'
          }\`}
        >
          {item.label}
        </a>
      ))}
    </div>
  );
};`
                    },
                    {
                        name: 'Menu Button',
                        component: () => {
                            const [isOpen, setIsOpen] = useState(false);
                            
                            return (
                                <button 
                                    onClick={() => setIsOpen(!isOpen)}
                                    className="p-2 hover:bg-gray-800 rounded-lg transition-colors"
                                >
                                    <div className={`w-6 h-0.5 bg-gray-400 mb-1.5 transition-all ${isOpen ? 'rotate-45 translate-y-2' : ''}`}></div>
                                    <div className={`w-6 h-0.5 bg-gray-400 mb-1.5 transition-all ${isOpen ? 'opacity-0' : ''}`}></div>
                                    <div className={`w-6 h-0.5 bg-gray-400 transition-all ${isOpen ? '-rotate-45 -translate-y-2' : ''}`}></div>
                                </button>
                            );
                        },
                        code: `export const MenuButton = ({ onClick, isOpen }) => {
  return (
    <button 
      onClick={onClick}
      className="p-2 hover:bg-gray-800 rounded-lg transition-colors"
    >
      <div className={\`w-6 h-0.5 bg-gray-400 mb-1.5 transition-all \${isOpen ? 'rotate-45 translate-y-2' : ''}\`}></div>
      <div className={\`w-6 h-0.5 bg-gray-400 mb-1.5 transition-all \${isOpen ? 'opacity-0' : ''}\`}></div>
      <div className={\`w-6 h-0.5 bg-gray-400 transition-all \${isOpen ? '-rotate-45 -translate-y-2' : ''}\`}></div>
    </button>
  );
};`
                    }
                ]
            },
            {
                name: 'Layout',
                icon: '📐',
                components: [
                    {
                        name: 'Section Container',
                        component: () => (
                            <div className="max-w-6xl mx-auto px-4 py-16 bg-gray-800/20 rounded-lg">
                                <h2 className="text-3xl font-bold mb-4">Section Title</h2>
                                <p className="text-gray-400">Section content goes here. This is a centered container with proper padding.</p>
                            </div>
                        ),
                        code: `export const SectionContainer = ({ title, children }) => {
  return (
    <div className="max-w-6xl mx-auto px-4 py-16">
      <h2 className="text-3xl font-bold mb-4">{title}</h2>
      {children}
    </div>
  );
};`
                    },
                    {
                        name: 'Grid Layout',
                        component: () => (
                            <div className="grid grid-cols-3 gap-4">
                                <div className="bg-gray-800 p-4 rounded">Item 1</div>
                                <div className="bg-gray-800 p-4 rounded">Item 2</div>
                                <div className="bg-gray-800 p-4 rounded">Item 3</div>
                                <div className="bg-gray-800 p-4 rounded">Item 4</div>
                                <div className="bg-gray-800 p-4 rounded">Item 5</div>
                                <div className="bg-gray-800 p-4 rounded">Item 6</div>
                            </div>
                        ),
                        code: `export const GridLayout = ({ columns = 3, gap = 4, children }) => {
  return (
    <div className={\`grid grid-cols-\${columns} gap-\${gap}\`}>
      {children}
    </div>
  );
};`
                    },
                    {
                        name: 'Flex Container',
                        component: () => (
                            <div className="flex items-center justify-between p-4 bg-gray-800 rounded-lg">
                                <span>Left Content</span>
                                <span className="text-purple-400">Center</span>
                                <span>Right Content</span>
                            </div>
                        ),
                        code: `export const FlexContainer = ({ justify = 'between', align = 'center', children }) => {
  return (
    <div className={\`flex items-\${align} justify-\${justify} p-4 bg-gray-800 rounded-lg\`}>
      {children}
    </div>
  );
};`
                    },
                    {
                        name: 'Split Layout',
                        component: () => (
                            <div className="grid grid-cols-2 gap-8 h-32">
                                <div className="bg-purple-900/20 rounded-lg p-4 flex items-center justify-center">
                                    <span>Left Panel</span>
                                </div>
                                <div className="bg-pink-900/20 rounded-lg p-4 flex items-center justify-center">
                                    <span>Right Panel</span>
                                </div>
                            </div>
                        ),
                        code: `export const SplitLayout = ({ left, right }) => {
  return (
    <div className="grid grid-cols-2 gap-8 h-full">
      <div className="bg-purple-900/20 rounded-lg p-4">{left}</div>
      <div className="bg-pink-900/20 rounded-lg p-4">{right}</div>
    </div>
  );
};`
                    },
                    {
                        name: 'Stack Layout',
                        component: () => (
                            <div className="space-y-4">
                                <div className="bg-gray-800 p-4 rounded">Stack Item 1</div>
                                <div className="bg-gray-800 p-4 rounded">Stack Item 2</div>
                                <div className="bg-gray-800 p-4 rounded">Stack Item 3</div>
                            </div>
                        ),
                        code: `export const StackLayout = ({ spacing = 4, children }) => {
  return (
    <div className={\`space-y-\${spacing}\`}>
      {React.Children.map(children, child => (
        <div className="bg-gray-800 p-4 rounded">{child}</div>
      ))}
    </div>
  );
};`
                    }
                ]
            },
            {
                name: 'Backgrounds',
                icon: '🎨',
                components: [
                    {
                        name: 'Gradient Background',
                        component: () => (
                            <div className="h-32 rounded-lg bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center">
                                <span className="text-white font-semibold">Gradient Background</span>
                            </div>
                        ),
                        code: `export const GradientBackground = ({ children }) => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500">
      {children}
    </div>
  );
};`
                    },
                    {
                        name: 'Animated Gradient',
                        component: () => (
                            <div className="h-32 rounded-lg bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 animate-gradient-x flex items-center justify-center">
                                <span className="text-white font-semibold">Animated Gradient</span>
                            </div>
                        ),
                        code: `export const AnimatedGradient = ({ children }) => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 animate-gradient-x" style={{ backgroundSize: '200% 200%' }}>
      {children}
    </div>
  );
};`
                    },
                    {
                        name: 'Mesh Gradient',
                        component: () => (
                            <div className="h-32 rounded-lg relative overflow-hidden bg-purple-900">
                                <div className="absolute inset-0 bg-gradient-to-r from-pink-500/30 to-purple-500/30 blur-3xl"></div>
                                <div className="absolute inset-0 bg-gradient-to-l from-blue-500/20 to-green-500/20 blur-3xl"></div>
                                <div className="relative z-10 h-full flex items-center justify-center">
                                    <span className="text-white font-semibold">Mesh Gradient</span>
                                </div>
                            </div>
                        ),
                        code: `export const MeshGradient = ({ children }) => {
  return (
    <div className="min-h-screen relative overflow-hidden bg-purple-900">
      <div className="absolute inset-0 bg-gradient-to-r from-pink-500/30 to-purple-500/30 blur-3xl"></div>
      <div className="absolute inset-0 bg-gradient-to-l from-blue-500/20 to-green-500/20 blur-3xl"></div>
      <div className="relative z-10">{children}</div>
    </div>
  );
};`
                    },
                    {
                        name: 'Particle Background',
                        component: () => {
                            const particles = Array.from({ length: 5 }, (_, i) => ({
                                id: i,
                                size: Math.random() * 2 + 1,
                                x: Math.random() * 100,
                                y: Math.random() * 100,
                                delay: Math.random() * 3
                            }));
                            
                            return (
                                <div className="h-32 rounded-lg bg-gray-900 relative overflow-hidden">
                                    {particles.map(p => (
                                        <div
                                            key={p.id}
                                            className="absolute bg-purple-500 rounded-full animate-float"
                                            style={{
                                                width: `${p.size}rem`,
                                                height: `${p.size}rem`,
                                                top: `${p.y}%`,
                                                left: `${p.x}%`,
                                                animationDelay: `${p.delay}s`
                                            }}
                                        />
                                    ))}
                                    <div className="relative z-10 h-full flex items-center justify-center">
                                        <span className="text-white font-semibold">Particle Background</span>
                                    </div>
                                </div>
                            );
                        },
                        code: `export const ParticleBackground = ({ children }) => {
  const particles = Array.from({ length: 20 }, (_, i) => ({
    id: i,
    size: Math.random() * 3 + 1,
    x: Math.random() * 100,
    y: Math.random() * 100,
    delay: Math.random() * 5
  }));
  
  return (
    <div className="min-h-screen bg-gray-900 relative overflow-hidden">
      {particles.map(p => (
        <div
          key={p.id}
          className="absolute bg-purple-500 rounded-full animate-float"
          style={{
            width: \`\${p.size}rem\`,
            height: \`\${p.size}rem\`,
            top: \`\${p.y}%\`,
            left: \`\${p.x}%\`,
            animationDelay: \`\${p.delay}s\`
          }}
        />
      ))}
      <div className="relative z-10">{children}</div>
    </div>
  );
};`
                    },
                    {
                        name: 'Grid Background',
                        component: () => (
                            <div className="h-32 rounded-lg bg-gray-900 relative overflow-hidden">
                                <div 
                                    className="absolute inset-0"
                                    style={{
                                        backgroundImage: 'linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px)',
                                        backgroundSize: '20px 20px'
                                    }}
                                />
                                <div className="relative z-10 h-full flex items-center justify-center">
                                    <span className="text-white font-semibold">Grid Background</span>
                                </div>
                            </div>
                        ),
                        code: `export const GridBackground = ({ children }) => {
  return (
    <div className="min-h-screen bg-gray-900 relative">
      <div 
        className="absolute inset-0"
        style={{
          backgroundImage: 'linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px)',
          backgroundSize: '20px 20px'
        }}
      />
      <div className="relative z-10">{children}</div>
    </div>
  );
};`
                    }
                ]
            }
        ];

        // React Preview Component
        const PreviewComponent = ({ component, props }) => {
            const Component = component.component;
            return <Component {...props} />;
        };

        // Props Editor Component
        const PropsEditor = ({ componentProps, currentProps, onChange }) => {
            if (!componentProps) return null;
            
            return (
                <>
                    {Object.entries(componentProps).map(([key, config]) => (
                        <div key={key} className="space-y-1">
                            <label className="text-xs text-gray-400">{key}</label>
                            {config.type === 'text' && (
                                <input
                                    type="text"
                                    value={currentProps[key] || config.default}
                                    onChange={(e) => onChange(key, e.target.value)}
                                    className="w-full px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs"
                                />
                            )}
                            {config.type === 'number' && (
                                <input
                                    type="number"
                                    value={currentProps[key] || config.default}
                                    onChange={(e) => onChange(key, parseInt(e.target.value))}
                                    min={config.min}
                                    max={config.max}
                                    className="w-full px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs"
                                />
                            )}
                            {config.type === 'boolean' && (
                                <label className="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        checked={currentProps[key] || config.default}
                                        onChange={(e) => onChange(key, e.target.checked)}
                                        className="w-4 h-4"
                                    />
                                    <span className="text-xs">Enabled</span>
                                </label>
                            )}
                            {config.type === 'select' && (
                                <select
                                    value={currentProps[key] || config.default}
                                    onChange={(e) => onChange(key, e.target.value)}
                                    className="w-full px-2 py-1 bg-gray-900 border border-gray-700 rounded text-xs"
                                >
                                    {config.options.map(opt => (
                                        <option key={opt} value={opt}>{opt}</option>
                                    ))}
                                </select>
                            )}
                        </div>
                    ))}
                </>
            );
        };

        // Main App
        const App = () => {
            const [selectedComponent, setSelectedComponent] = useState(null);
            const [componentProps, setComponentProps] = useState({});
            const [background, setBackground] = useState('dark');
            const [searchQuery, setSearchQuery] = useState('');
            
            const selectComponent = (catIndex, compIndex) => {
                const component = componentLibrary[catIndex].components[compIndex];
                setSelectedComponent({ ...component, catIndex, compIndex });
                
                // Initialize props with defaults
                const defaultProps = {};
                if (component.props) {
                    Object.entries(component.props).forEach(([key, config]) => {
                        defaultProps[key] = config.default;
                    });
                }
                setComponentProps(defaultProps);
                
                // Update code display
                window.updateCode(component.code);
                
                // Add to terminal
                window.addToTerminal(`Selected component: ${component.name}`);
                
                // Update background if needed
                if (component.needsBackground && background === 'dark') {
                    setBackground('gradient');
                }
            };
            
            const updateProp = (key, value) => {
                setComponentProps(prev => ({ ...prev, [key]: value }));
            };
            
            const resetPreview = () => {
                if (selectedComponent && selectedComponent.props) {
                    const defaultProps = {};
                    Object.entries(selectedComponent.props).forEach(([key, config]) => {
                        defaultProps[key] = config.default;
                    });
                    setComponentProps(defaultProps);
                }
            };
            
            const getBackgroundClass = () => {
                switch (background) {
                    case 'gradient': return 'preview-gradient';
                    case 'mesh': return 'preview-mesh';
                    case 'grid': return 'preview-grid';
                    case 'white': return 'bg-white';
                    default: return 'bg-gray-950';
                }
            };
            
            const filteredComponents = searchQuery
                ? componentLibrary.map(cat => ({
                    ...cat,
                    components: cat.components.filter(comp => 
                        comp.name.toLowerCase().includes(searchQuery.toLowerCase())
                    )
                })).filter(cat => cat.components.length > 0)
                : componentLibrary;
            
            useEffect(() => {
                // Expose functions to window
                window.reactSelectComponent = selectComponent;
                window.reactResetPreview = resetPreview;
                window.setBackground = setBackground;
            }, []);
            
            return (
                <div>
                    {/* Component List rendered into portal */}
                    {ReactDOM.createPortal(
                        <>
                            {filteredComponents.map((category, catIndex) => (
                            <div key={catIndex} className="mb-6">
                                <h3 className="text-sm font-semibold text-gray-400 mb-2 flex items-center">
                                    <span className="mr-2">{category.icon}</span>
                                    {category.name}
                                    <span className="ml-auto text-xs">{category.components.length}</span>
                                </h3>
                                <div className="space-y-1">
                                    {category.components.map((component, compIndex) => (
                                        <button
                                            key={compIndex}
                                            className="w-full text-left px-3 py-2 rounded hover:bg-gray-700 transition-colors text-sm"
                                            onClick={() => selectComponent(
                                                componentLibrary.findIndex(cat => cat.name === category.name),
                                                compIndex
                                            )}
                                        >
                                            {component.name}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            ))}
                        </>,
                        document.getElementById('componentList')
                    )}
                    
                    {/* Search handler */}
                    <input
                        type="hidden"
                        id="searchQueryHandler"
                        value={searchQuery}
                        onChange={(e) => setSearchQuery(e.target.value)}
                    />
                    
                    {/* Background handler */}
                    <select
                        id="backgroundHandler"
                        className="hidden"
                        value={background}
                        onChange={(e) => setBackground(e.target.value)}
                    >
                        <option value="dark">Dark</option>
                        <option value="gradient">Gradient</option>
                        <option value="mesh">Mesh</option>
                        <option value="grid">Grid</option>
                        <option value="white">Light</option>
                    </select>
                    
                    {/* Props Editor rendered into portal */}
                    {selectedComponent && selectedComponent.props && ReactDOM.createPortal(
                        <PropsEditor
                            componentProps={selectedComponent.props}
                            currentProps={componentProps}
                            onChange={updateProp}
                        />,
                        document.getElementById('propsControls')
                    )}
                    
                    {/* Preview rendered into portal */}
                    {ReactDOM.createPortal(
                        <div className={`w-full min-h-[200px] p-8 rounded-lg flex items-center justify-center ${getBackgroundClass()}`}>
                            {selectedComponent ? (
                                <PreviewComponent
                                    component={selectedComponent}
                                    props={componentProps}
                                />
                            ) : (
                                <div className="text-center text-gray-500">
                                    <i className="ph-eye text-4xl mb-2"></i>
                                    <p>Component preview will appear here</p>
                                </div>
                            )}
                        </div>,
                        document.getElementById('preview')
                    )}
                </div>
            );
        };
        
        // Mount React app
        const root = ReactDOM.createRoot(document.getElementById('react-root'));
        root.render(<App />);
    </script>

    <script>
        // Non-React JavaScript
        let currentComponent = null;
        let terminalHistory = [];

        // Terminal functions
        function addToTerminal(text) {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.textContent = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
            terminalHistory.push(text);
        }

        function clearTerminal() {
            document.getElementById('terminal').innerHTML = '';
            terminalHistory = [];
            addToTerminal('Terminal cleared');
        }

        function showHelp() {
            addToTerminal('Available commands:');
            addToTerminal('  /ui <description> - Generate a UI component');
            addToTerminal('  clear - Clear terminal');
            addToTerminal('  help - Show this help message');
        }

        // Handle terminal input
        document.getElementById('terminalInput').addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                const input = e.target.value.trim();
                if (!input) return;
                
                addToTerminal(`$ ${input}`);
                e.target.value = '';
                
                if (input === 'clear') {
                    clearTerminal();
                } else if (input === 'help') {
                    showHelp();
                } else if (input.startsWith('/ui ')) {
                    await handleUICommand(input.substring(4));
                } else {
                    addToTerminal(`Unknown command: ${input}`);
                }
            }
        });

        // Handle /ui command
        async function handleUICommand(description) {
            addToTerminal('🎨 Generating component...');
            
            try {
                // Call API
                const response = await fetch('/api/magic/ui', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: description })
                });
                
                const data = await response.json();
                
                if (data.success && data.component) {
                    addToTerminal('✅ Component generated successfully!');
                    addToTerminal(`Type: ${data.customizations?.detected || 'custom'}`);
                    addToTerminal(`Category: ${data.customizations?.category || 'unknown'}`);
                    
                    // Update code display
                    updateCode(data.component.code);
                    
                    // Try to find and preview matching component
                    // This would need to be implemented with React integration
                    addToTerminal('💡 Select a similar component from the left panel to see preview');
                } else {
                    addToTerminal(`❌ Error: ${data.error || 'Failed to generate component'}`);
                    generateLocalComponent(description);
                }
            } catch (error) {
                addToTerminal(`❌ Error: ${error.message}`);
                generateLocalComponent(description);
            }
        }

        // Local component generation fallback
        function generateLocalComponent(description) {
            addToTerminal('🔍 Searching local components...');
            addToTerminal('💡 Browse components in the left panel or try specific keywords');
        }

        // Update code display
        function updateCode(code) {
            const codeEl = document.getElementById('codeContent');
            const variant = document.getElementById('codeVariant').value;
            
            let displayCode = code;
            
            // Convert based on variant
            if (variant.includes('javascript')) {
                displayCode = convertToJavaScript(code);
            }
            
            codeEl.textContent = displayCode;
        }

        // Copy code to clipboard
        function copyCode() {
            const code = document.getElementById('codeContent').textContent;
            navigator.clipboard.writeText(code).then(() => {
                addToTerminal('✅ Code copied to clipboard');
            }).catch(() => {
                addToTerminal('❌ Failed to copy code');
            });
        }

        // Convert TypeScript to JavaScript
        function convertToJavaScript(code) {
            return code
                .replace(/: React\.FC<\w+>/g, '')
                .replace(/: React\.ReactNode/g, '')
                .replace(/: string/g, '')
                .replace(/: number/g, '')
                .replace(/: boolean/g, '')
                .replace(/: any/g, '')
                .replace(/interface \w+ {[^}]*}/g, '')
                .replace(/export const (\w+): React\.FC = /g, 'export const $1 = ')
                .replace(/useState<[^>]+>/g, 'useState')
                .replace(/React\.Fragment/g, 'Fragment');
        }

        // Search components
        document.getElementById('componentSearch').addEventListener('input', (e) => {
            const searchHandler = document.getElementById('searchQueryHandler');
            searchHandler.value = e.target.value;
            searchHandler.dispatchEvent(new Event('change'));
        });

        // Background change
        document.getElementById('backgroundSelect').addEventListener('change', (e) => {
            const bgHandler = document.getElementById('backgroundHandler');
            bgHandler.value = e.target.value;
            bgHandler.dispatchEvent(new Event('change'));
        });

        // Code variant change
        document.getElementById('codeVariant').addEventListener('change', () => {
            if (currentComponent) {
                updateCode(currentComponent.code);
            }
        });

        // Reset preview
        function resetPreview() {
            if (window.reactResetPreview) {
                window.reactResetPreview();
            }
        }

        // Show/hide props editor based on selection
        setInterval(() => {
            const propsEditor = document.getElementById('propsEditor');
            const propsControls = document.getElementById('propsControls');
            
            if (propsControls && propsControls.children.length > 0) {
                propsEditor.classList.remove('hidden');
            } else {
                propsEditor.classList.add('hidden');
            }
        }, 100);

        // Make functions global
        window.clearTerminal = clearTerminal;
        window.showHelp = showHelp;
        window.copyCode = copyCode;
        window.addToTerminal = addToTerminal;
        window.updateCode = updateCode;
    </script>
</body>
</html>